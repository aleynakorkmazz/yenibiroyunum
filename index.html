<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aleyna Korkmaz | Portfolyo & Eğitim</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #4a90e2;
            --secondary: #50e3c2;
            --accent: #ff6b6b;
            --dark: #2d3436;
            --light: #f9f9f9;
            --card-bg: #ffffff;
            --text-color: #2d3436;
        }

        body {
            font-family: 'Poppins', sans-serif;
            margin: 0; padding: 0;
            background-color: #f0f2f5;
            color: var(--text-color);
            overflow-x: hidden;
        }

        /* --- MODERN NAVİGASYON (GLASSMORPHISM) --- */
        nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
            position: sticky; top: 0; z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
        }

        .logo {
            font-size: 1.5rem; font-weight: 700;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links { display: flex; gap: 30px; }
        .nav-item { 
            position: relative; cursor: pointer; padding: 8px 12px; 
            font-weight: 500; transition: 0.3s; color: var(--dark);
        }
        .nav-item:hover { color: var(--primary); transform: translateY(-2px); }
        
        .dropdown {
            display: none; position: absolute; top: 100%; left: 0;
            background: white; border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            min-width: 200px; overflow: hidden; animation: slideUp 0.3s ease;
        }
        .nav-item:hover .dropdown { display: block; }
        .dropdown div { 
            padding: 12px 20px; transition: 0.2s; border-bottom: 1px solid #f1f1f1;
        }
        .dropdown div:hover { background: #f0f7ff; color: var(--primary); padding-left: 25px; }

        .log-btn {
            background: linear-gradient(135deg, var(--primary), #357abd);
            color: white; border: none; padding: 8px 20px; border-radius: 50px;
            font-weight: 600; cursor: pointer; box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
            transition: 0.3s;
        }
        .log-btn:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(74, 144, 226, 0.5); }

        /* --- HERO BÖLÜMÜ (HAREKETLİ) --- */
        header.hero {
            text-align: center; padding: 80px 20px;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: white; border-radius: 0 0 50px 50px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .hero h1 { font-size: 3.5rem; margin-bottom: 10px; letter-spacing: -1px; }
        .hero p { font-size: 1.2rem; opacity: 0.95; font-weight: 300; }
        
        /* Typing Effect Container */
        .typing-container {
            font-size: 1.2rem; font-weight: 600; margin-top: 15px;
            background: rgba(255,255,255,0.2); display: inline-block;
            padding: 5px 15px; border-radius: 20px;
        }

        .container {
            max-width: 1200px; margin: 40px auto; padding: 0 20px;
        }

        /* --- GELİŞMİŞ DERS KARTLARI --- */
        .section-title {
            text-align: center; font-size: 2rem; margin-bottom: 40px;
            position: relative; display: inline-block; left: 50%; transform: translateX(-50%);
        }
        .section-title::after {
            content: ''; display: block; width: 60px; height: 4px;
            background: var(--accent); margin: 10px auto; border-radius: 2px;
        }

        .subject-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); 
            gap: 25px; 
        }
        
        .subject-card {
            background: white; border-radius: 20px; overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05); transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer; position: relative;
        }
        .subject-card:hover { transform: translateY(-10px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        
        .card-header {
            height: 100px; display: flex; align-items: center; justify-content: center;
            font-size: 3rem; color: white;
        }
        .math-bg { background: linear-gradient(135deg, #667eea, #764ba2); }
        .phys-bg { background: linear-gradient(135deg, #ff9a9e, #fecfef); }
        .chem-bg { background: linear-gradient(135deg, #a18cd1, #fbc2eb); }
        .bio-bg { background: linear-gradient(135deg, #84fab0, #8fd3f4); }
        .lit-bg { background: linear-gradient(135deg, #ffc3a0, #ffafbd); }
        .hist-bg { background: linear-gradient(135deg, #d299c2, #fef9d7); }
        .geo-bg { background: linear-gradient(135deg, #89f7fe, #66a6ff); }

        .card-body { padding: 20px; text-align: center; }
        .card-body h3 { margin: 0 0 10px 0; color: var(--dark); }
        .card-body p { font-size: 0.9rem; color: #777; margin: 0; }
        .badge {
            background: #f0f0f0; padding: 4px 10px; border-radius: 12px;
            font-size: 0.8rem; font-weight: 600; color: #555; margin-top: 10px; display: inline-block;
        }

        /* --- NOT DETAY MODALI --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(5px);
            z-index: 2000; justify-content: center; align-items: center;
            animation: fadeIn 0.3s ease;
        }
        .modal-content {
            background: #f8f9fa; width: 90%; max-width: 1000px; max-height: 90vh;
            border-radius: 20px; overflow-y: auto; position: relative;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            padding: 0;
        }
        
        .modal-header-banner {
            padding: 30px; color: white; text-align: center;
            border-radius: 20px 20px 0 0; position: relative;
        }
        .close-modal {
            position: absolute; top: 20px; right: 20px; font-size: 2rem;
            color: rgba(255,255,255,0.8); cursor: pointer; transition: 0.3s;
        }
        .close-modal:hover { color: white; transform: rotate(90deg); }

        .topic-container { padding: 30px; display: grid; gap: 30px; }
        .topic-group { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .topic-title { 
            font-size: 1.4rem; color: var(--primary); border-left: 5px solid var(--accent);
            padding-left: 15px; margin-bottom: 20px; font-weight: 700;
        }

        .cards-grid { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 15px; 
        }
        .info-card {
            background: #fff; border: 1px solid #eee; border-radius: 10px;
            padding: 15px; position: relative; transition: 0.3s;
            border-top: 4px solid var(--secondary);
        }
        .info-card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .info-card h4 { margin: 0 0 8px 0; color: #333; font-size: 1rem; }
        .info-card p { font-size: 0.85rem; color: #666; line-height: 1.5; margin: 0; }
        .pin { position: absolute; top: 10px; right: 10px; color: #ddd; }

        /* --- OYUN ALANI --- */
        #game-modal-content {
            background: #1a1a1a; color: white; text-align: center;
            display: flex; flex-direction: column; align-items: center; padding: 30px;
        }
        canvas { 
            background: #000; border: 4px solid #333; border-radius: 8px; 
            box-shadow: 0 0 40px rgba(0,0,0,0.5); margin: 20px 0;
        }
        .game-stats {
            display: flex; gap: 30px; background: #2d2d2d; padding: 10px 30px;
            border-radius: 50px; border: 1px solid #444; margin-top: 10px;
        }
        .stat-item { font-family: monospace; font-size: 1.2rem; color: #aaa; }
        .stat-item b { color: #f1c40f; font-size: 1.4rem; }

        .game-overlay {
            display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); flex-direction: column; justify-content: center; align-items: center; z-index: 10;
        }
        .btn-game {
            background: var(--primary); color: white; border: none; padding: 15px 40px;
            font-size: 1.2rem; cursor: pointer; margin: 10px; border-radius: 50px;
            font-weight: bold; transition: 0.3s;
        }
        .btn-game:hover { transform: scale(1.1); box-shadow: 0 0 20px var(--primary); }

        footer { text-align: center; padding: 40px; background: white; margin-top: 60px; border-top: 1px solid #eee; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    </style>
</head>
<body>

    <nav>
        <div class="logo"><i class="fa-solid fa-code"></i> Aleyna Korkmaz</div>
        <div class="nav-links">
            <div class="nav-item">
                <i class="fa-solid fa-gamepad"></i> OYUNLAR
                <div class="dropdown">
                    <div onclick="initGame('tetris')"><i class="fa-solid fa-shapes"></i> Tetris</div>
                    <div onclick="initGame('pacman')"><i class="fa-solid fa-ghost"></i> Pacman</div>
                    <div onclick="initGame('snake')"><i class="fa-solid fa-staff-snake"></i> Yılan</div>
                </div>
            </div>
            <div class="nav-item" onclick="showSection('notes')"><i class="fa-solid fa-book"></i> DERS NOTLARI</div>
            <div class="nav-item" onclick="showSection('movies')"><i class="fa-solid fa-film"></i> FİLMLER</div>
        </div>
        <div style="display:flex; align-items:center; gap:10px;">
            <span style="font-size:0.8rem; font-weight:bold; color:#777;">v1.8.0</span>
            <button class="log-btn" onclick="toggleLog()">Günlük</button>
        </div>
    </nav>

    <header class="hero">
        <h1>Hoş Geldiniz</h1>
        <p>Ben Aleyna Korkmaz. Matematik Öğrencisi & Veri Analisti Adayı.</p>
        <div class="typing-container" id="typing-text">Python | SQL | Veri Analizi</div>
    </header>

    <div class="container" id="main-content">
        </div>

    <div id="logModal" class="modal">
        <div class="modal-content" style="max-width:600px; padding:30px;">
            <span class="close-modal" style="color:#333; top:10px; right:15px;" onclick="toggleLog()">&times;</span>
            <h3 style="border-bottom:2px solid #eee; padding-bottom:10px;">Geliştirme Günlüğü</h3>
            <div id="logContent"></div>
        </div>
    </div>

    <div id="topicModal" class="modal">
        <div class="modal-content">
            <div id="modalHeader" class="modal-header-banner">
                <span class="close-modal" onclick="closeTopicModal()">&times;</span>
                <h1 id="modalTitle" style="margin:0;">Matematik</h1>
            </div>
            <div id="topicContainer" class="topic-container">
                </div>
        </div>
    </div>

    <div id="gameModal" class="modal">
        <div class="modal-content" id="game-modal-content" style="background: #151515; width:auto; padding:0;">
            <div style="width:100%; padding:15px; display:flex; justify-content:flex-end;">
                <span onclick="stopGame()" style="color:white; cursor:pointer; font-size:24px;">&times; Kapat</span>
            </div>
            <div style="position: relative; padding:0 30px 30px 30px;">
                <h3 id="gameTitle" style="color:#f1c40f; margin-top:0;">Oyun</h3>
                
                <div id="gameOverOverlay" class="game-overlay">
                    <h2>OYUN BİTTİ</h2>
                    <p style="font-size:1.5rem; color:#ccc;">Skor: <span id="finalScore">0</span></p>
                    <button class="btn-game" onclick="restartActiveGame()">TEKRAR OYNA</button>
                    <button class="btn-game" style="background:#555;" onclick="stopGame()">ÇIKIŞ</button>
                </div>

                <canvas id="gameCanvas"></canvas>
                
                <div class="game-stats">
                    <div class="stat-item">SKOR: <span id="scoreVal">0</span></div>
                    <div class="stat-item">SEVİYE: <span id="levelVal">1</span></div>
                    <div class="stat-item" id="livesContainer">CAN: <span id="livesVal">3</span></div>
                </div>
                <p style="color:#666; margin-top:10px; font-size:0.8rem;">Kontroller: Yön Tuşları</p>
            </div>
        </div>
    </div>

    <footer>
        <p style="font-weight:600;">&copy; 2026 Aleyna Korkmaz</p>
        <p style="font-size:0.9rem; color:#777;">İstanbul Üniversitesi - Matematik Bölümü</p>
    </footer>

    <script>
        // --- DATA & CONTENT ---
        const logs = [
            { date: "11.02.2026", version: "1.8.0", text: "Arayüz tamamen yenilendi (Glassmorphism). Ders notları için kapsamlı bilgi kartları eklendi." },
            { date: "10.02.2026", version: "1.7.0", text: "Pacman animasyonları ve oyun mekanikleri iyileştirildi." }
        ];

        // GENİŞLETİLMİŞ MÜFREDAT VE BİLGİ KARTLARI
        const curriculum = {
            "Matematik": {
                style: "math-bg",
                icon: "fa-calculator",
                topics: [
                    {
                        title: "Mantık ve Kümeler",
                        cards: [
                            { h: "Totoloji", t: "Doğruluk değeri daima 1 olan önermelerdir. (p v p' ≡ 1)" },
                            { h: "De Morgan Kuralları", t: "(p ∧ q)' ≡ p' ∨ q' ve (p ∨ q)' ≡ p' ∧ q'" },
                            { h: "Alt Küme", t: "n elemanlı bir kümenin 2^n tane alt kümesi vardır." },
                            { h: "Kartezyen Çarpım", t: "A x B kümesinin eleman sayısı s(A).s(B) dir." }
                        ]
                    },
                    {
                        title: "Fonksiyonlar & Polinomlar",
                        cards: [
                            { h: "Birebir Fonksiyon", t: "Farklı elemanların görüntüleri de farklıdır." },
                            { h: "Ters Fonksiyon", t: "f(x)=y ise f⁻¹(y)=x olur. Grafiği y=x'e göre simetriktir." },
                            { h: "Polinom Derecesi", t: "P(x).Q(x) derecesi der(P)+der(Q)'dur." },
                            { h: "Sabit Terim", t: "P(x) polinomunda x yerine 0 yazılarak bulunur." }
                        ]
                    },
                    {
                        title: "Limit, Türev, İntegral (AYT)",
                        cards: [
                            { h: "L'Hospital Kuralı", t: "0/0 belirsizliğinde pay ve paydanın ayrı ayrı türevi alınır." },
                            { h: "Türev Tanımı", t: "Türev, bir eğrinin herhangi bir noktasındaki teğetinin eğimidir." },
                            { h: "Alan Hesabı", t: "Belirli integral, bir eğrinin altında kalan alanı verir." },
                            { h: "Ekstremum Nokta", t: "Türevin işaret değiştirdiği (sıfır olduğu) noktalardır." }
                        ]
                    }
                ]
            },
            "Fizik": {
                style: "phys-bg",
                icon: "fa-atom",
                topics: [
                    {
                        title: "Kuvvet ve Hareket",
                        cards: [
                            { h: "F = m.a", t: "Net kuvvet, kütle ile ivmenin çarpımına eşittir (Newton 2. Yasa)." },
                            { h: "Sürtünme Kuvveti", t: "Fs = k.N (Hareket yönüne zıttır)." },
                            { h: "Atışlar", t: "Serbest düşmede h = 1/2.g.t² formülü kullanılır." }
                        ]
                    },
                    {
                        title: "Elektrik ve Manyetizma",
                        cards: [
                            { h: "Ohm Yasası", t: "V = I.R (Gerilim = Akım x Direnç)" },
                            { h: "Seri Bağlama", t: "Eşdeğer direnç R_eş = R1 + R2 + ... artar." },
                            { h: "Manyetik Alan", t: "Akım geçen telin etrafında sağ el kuralı ile bulunur." }
                        ]
                    },
                    {
                        title: "Optik",
                        cards: [
                            { h: "Yansıma Kanunu", t: "Gelme açısı yansıma açısına eşittir." },
                            { h: "Kırılma", t: "Az yoğun ortamdan çok yoğuna geçen ışık normale yaklaşır." },
                            { h: "Mercekler", t: "İnce kenarlı mercek ışığı toplar, kalın kenarlı dağıtır." }
                        ]
                    }
                ]
            },
            "Kimya": {
                style: "chem-bg",
                icon: "fa-flask",
                topics: [
                    {
                        title: "Modern Atom Teorisi",
                        cards: [
                            { h: "Orbital", t: "Elektronların bulunma ihtimalinin yüksek olduğu bölgeler (s,p,d,f)." },
                            { h: "Heisenberg İlkesi", t: "Elektronun yeri ve hızı aynı anda tam ölçülemez." },
                            { h: "Hund Kuralı", t: "Elektronlar eş enerjili orbitallere önce birer birer yerleşir." }
                        ]
                    },
                    {
                        title: "Organik Kimya",
                        cards: [
                            { h: "Alkanlar", t: "Doymuş hidrokarbonlar. Genel formül CnH(2n+2)." },
                            { h: "Aromatik", t: "Benzen halkası içeren bileşiklerdir (Kekule yapısı)." },
                            { h: "Fonksiyonel Grup", t: "Alkol (-OH), Eter (-O-), Aldehit (-CHO) gibi gruplar." }
                        ]
                    },
                    {
                        title: "Gazlar",
                        cards: [
                            { h: "İdeal Gaz Denklemi", t: "P.V = n.R.T (Paran Varsa Ne RahaT)" },
                            { h: "Difüzyon", t: "Gazların yayılma hızı, molekül kütlesinin karekökü ile ters orantılıdır." }
                        ]
                    }
                ]
            },
            "Biyoloji": {
                style: "bio-bg",
                icon: "fa-dna",
                topics: [
                    {
                        title: "Hücre ve Organeller",
                        cards: [
                            { h: "Mitokondri", t: "Hücrenin enerji (ATP) üretim merkezidir." },
                            { h: "Ribozom", t: "Protein sentezinin yapıldığı zarsız organeldir." },
                            { h: "Hücre Zarı", t: "Seçici geçirgendir, madde alışverişini kontrol eder." }
                        ]
                    },
                    {
                        title: "Kalıtım",
                        cards: [
                            { h: "Genotip & Fenotip", t: "Genotip gen yapısı, fenotip dış görünüştür." },
                            { h: "Eş Baskınlık", t: "AB kan grubunda A ve B birbirine baskın değildir." },
                            { h: "Mutasyon", t: "DNA dizilimindeki kalıcı değişikliklerdir." }
                        ]
                    }
                ]
            },
            "Tarih": {
                style: "hist-bg",
                icon: "fa-landmark",
                topics: [
                    {
                        title: "Türk Tarihi",
                        cards: [
                            { h: "Malazgirt (1071)", t: "Anadolu'nun kapıları Türklere açıldı." },
                            { h: "Miryokefalon (1176)", t: "Anadolu'nun Türk yurdu olduğu kesinleşti." },
                            { h: "Talas Savaşı", t: "Türklerin İslamiyet'i kabul etmeye başladığı savaştır." }
                        ]
                    },
                    {
                        title: "İnkılap Tarihi",
                        cards: [
                            { h: "Sivas Kongresi", t: "Milli cemiyetler birleştirildi, manda ve himaye kesin reddedildi." },
                            { h: "Lozan Antlaşması", t: "Türkiye'nin bağımsızlığı uluslararası alanda tanındı (1923)." }
                        ]
                    }
                ]
            },
            "Coğrafya": {
                style: "geo-bg",
                icon: "fa-globe-europe",
                topics: [
                    {
                        title: "İklim Bilgisi",
                        cards: [
                            { h: "Akdeniz İklimi", t: "Yazlar sıcak/kurak, kışlar ılık/yağışlı. Bitki örtüsü maki." },
                            { h: "Basınç", t: "Yükselen hava alçak basınç (yağış), alçalan hava yüksek basınç getirir." }
                        ]
                    },
                    {
                        title: "Türkiye'nin Yerşekilleri",
                        cards: [
                            { h: "Platolar", t: "Akarsularla yarılmış yüksek düzlükler. İç Anadolu'da yaygındır." },
                            { h: "Rias Tipi Kıyı", t: "İstanbul ve Çanakkale boğazları örnektir." }
                        ]
                    }
                ]
            }
        };

        // --- UI FUNCTIONS ---
        // Typing Effect
        const texts = ["Python | SQL | Veri Analizi", "Oyun Geliştirme | Matematik", "Öğrenmeye Devam Et!"];
        let count = 0;
        let index = 0;
        let currentText = "";
        let letter = "";
        
        (function type() {
            if(count === texts.length) count = 0;
            currentText = texts[count];
            letter = currentText.slice(0, ++index);
            document.getElementById('typing-text').textContent = letter;
            if(letter.length === currentText.length) {
                count++; index = 0; setTimeout(type, 2000);
            } else { setTimeout(type, 100); }
        })();

        function showSection(section) {
            const content = document.getElementById('main-content');
            content.style.opacity = '0';
            
            setTimeout(() => {
                if (section === 'notes') {
                    content.innerHTML = `
                        <h2 class="section-title">Ders Notları</h2>
                        <div class="subject-grid">
                            ${Object.keys(curriculum).map(sub => `
                                <div class="subject-card" onclick="openSubject('${sub}')">
                                    <div class="card-header ${curriculum[sub].style}">
                                        <i class="fa-solid ${curriculum[sub].icon}"></i>
                                    </div>
                                    <div class="card-body">
                                        <h3>${sub}</h3>
                                        <p>${curriculum[sub].topics.length} Ana Konu Başlığı</p>
                                        <span class="badge">TYT - AYT</span>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                } else if (section === 'movies') {
                    content.innerHTML = `
                        <h2 class="section-title">Film Önerileri</h2>
                        <div style="text-align:center; padding:50px;">
                            <i class="fa-solid fa-film" style="font-size:3rem; color:#ccc;"></i>
                            <p style="margin-top:20px; color:#777;">Bu liste şu an hazırlanıyor. Daha sonra tekrar kontrol et!</p>
                        </div>
                    `;
                } else {
                    // Default Landing Content if needed
                }
                content.style.transition = 'opacity 0.5s';
                content.style.opacity = '1';
            }, 200);
        }

        // Modal Functions
        function toggleLog() {
            const modal = document.getElementById('logModal');
            const content = document.getElementById('logContent');
            if(modal.style.display === 'flex') modal.style.display = 'none';
            else {
                content.innerHTML = `<table class="log-table" style="width:100%;">
                    ${logs.map(l => `<tr><td style="font-weight:bold; color:var(--primary);">${l.version}</td><td>${l.date}</td><td>${l.text}</td></tr>`).join('')}
                </table>`;
                modal.style.display = 'flex';
            }
        }

        function openSubject(subject) {
            const data = curriculum[subject];
            const modal = document.getElementById('topicModal');
            document.getElementById('modalTitle').innerText = subject;
            document.getElementById('modalHeader').className = `modal-header-banner ${data.style}`;
            
            const container = document.getElementById('topicContainer');
            container.innerHTML = data.topics.map(topic => `
                <div class="topic-group">
                    <div class="topic-title">${topic.title}</div>
                    <div class="cards-grid">
                        ${topic.cards.map(card => `
                            <div class="info-card">
                                <i class="fa-solid fa-thumbtack pin"></i>
                                <h4>${card.h}</h4>
                                <p>${card.t}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
            
            modal.style.display = 'flex';
        }

        function closeTopicModal() { document.getElementById('topicModal').style.display = 'none'; }
        
        // Initial Load
        showSection('notes');

        /* ==================== OYUN MOTORLARI (v1.7.0 Engine) ==================== */
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const overlay = document.getElementById('gameOverOverlay');
        let gameInterval, activeGame = null;
        let score=0, level=1, lives=3;
        let animationFrame = 0;
        
        let pacman, ghosts, map, totalDots, snake, food, snakeDir, tetrisBoard, tetrisPiece;

        function initGame(gameName) {
            document.getElementById('gameModal').style.display = 'flex';
            activeGame = gameName;
            restartActiveGame();
        }

        function stopGame() {
            clearInterval(gameInterval);
            document.getElementById('gameModal').style.display = 'none';
        }

        function restartActiveGame() {
            overlay.style.display = 'none';
            score = 0; level = 1; lives = 3;
            updateUI();
            clearInterval(gameInterval);

            if(activeGame === 'tetris') {
                canvas.width = 240; canvas.height = 400;
                document.getElementById('livesContainer').style.display = 'none';
                startTetris();
            } else if(activeGame === 'pacman') {
                canvas.width = 608; canvas.height = 416;
                document.getElementById('livesContainer').style.display = 'block';
                startPacman();
            } else if(activeGame === 'snake') {
                canvas.width = 500; canvas.height = 500;
                document.getElementById('livesContainer').style.display = 'none';
                startSnake();
            }
        }

        function updateUI() {
            document.getElementById('scoreVal').innerText = score;
            document.getElementById('levelVal').innerText = level;
            document.getElementById('livesVal').innerText = "❤️".repeat(lives);
        }

        function triggerGameOver(win = false) {
            clearInterval(gameInterval);
            document.getElementById('finalScore').innerText = score;
            overlay.style.display = 'flex';
        }

        // --- 1. PACMAN (Gelişmiş) ---
        function startPacman() {
            document.getElementById('gameTitle').innerText = "Pacman (Klasik)";
            const TILE = 32;
            const baseMap = [
                [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
                [1,3,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,3,1],
                [1,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,0,1],
                [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
                [1,0,1,1,0,1,0,1,1,2,1,1,0,1,0,1,1,0,1],
                [1,0,0,0,0,1,0,2,2,2,2,2,0,1,0,0,0,0,1],
                [1,1,1,1,0,1,1,1,2,2,2,1,1,1,0,1,1,1,1],
                [1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1],
                [1,0,1,1,0,1,1,1,0,1,0,1,1,1,0,1,1,0,1],
                [1,3,0,1,0,0,0,0,0,9,0,0,0,0,0,1,0,3,1],
                [1,1,0,1,0,1,0,1,1,1,1,1,0,1,0,1,0,1,1],
                [1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1],
                [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
            ];
            function loadLevel() {
                map = JSON.parse(JSON.stringify(baseMap));
                pacman = {x:9, y:9, dX:0, dY:0, nX:0, nY:0, angle:0, mouthOpen:0.2, mouthDir:1};
                ghosts = [
                    {x:9, y:5, color:'red', startX:9, startY:5, state:'normal'},
                    {x:8, y:5, color:'pink', startX:8, startY:5, state:'normal'},
                    {x:10, y:5, color:'cyan', startX:10, startY:5, state:'normal'},
                    {x:9, y:6, color:'orange', startX:9, startY:6, state:'normal'}
                ];
                totalDots=0;
                for(let r=0;r<map.length;r++) for(let c=0;c<map[0].length;c++) if(map[r][c]===0||map[r][c]===3) totalDots++;
            }
            loadLevel();
            let powerTime=0; let gameSpeed=Math.max(120, 220-(level*10));
            function update() {
                animationFrame++;
                if(map[pacman.y+pacman.nY][pacman.x+pacman.nX]!==1){pacman.dX=pacman.nX; pacman.dY=pacman.nY;}
                if(map[pacman.y+pacman.dY][pacman.x+pacman.dX]!==1){
                    pacman.x+=pacman.dX; pacman.y+=pacman.dY;
                    if(pacman.dX===1)pacman.angle=0; if(pacman.dX===-1)pacman.angle=Math.PI;
                    if(pacman.dY===-1)pacman.angle=-Math.PI/2; if(pacman.dY===1)pacman.angle=Math.PI/2;
                    pacman.mouthOpen+=0.1*pacman.mouthDir;
                    if(pacman.mouthOpen>0.4||pacman.mouthOpen<0.05) pacman.mouthDir*=-1;
                }
                let tile=map[pacman.y][pacman.x];
                if(tile===0){map[pacman.y][pacman.x]=2; score+=10; totalDots--;}
                else if(tile===3){map[pacman.y][pacman.x]=2; score+=50; totalDots--; powerTime=50; ghosts.forEach(g=>g.state='scared');}
                if(totalDots<=0){alert("Seviye Tamamlandı!"); level++; loadLevel(); return;}
                if(powerTime>0){powerTime--; if(powerTime===0) ghosts.forEach(g=>g.state='normal');}
                ghosts.forEach(g=>{
                    let dirs=[{x:0,y:-1},{x:0,y:1},{x:-1,y:0},{x:1,y:0}];
                    let valid=dirs.filter(d=>map[g.y+d.y][g.x+d.x]!==1);
                    if(valid.length>0){let m=valid[Math.floor(Math.random()*valid.length)]; g.x+=m.x; g.y+=m.y;}
                    if(g.x===pacman.x && g.y===pacman.y){
                        if(g.state==='scared'){score+=200; g.x=g.startX; g.y=g.startY; g.state='normal';}
                        else{lives--; updateUI(); if(lives<=0)triggerGameOver(false); else{pacman.x=9;pacman.y=9;pacman.dX=0;pacman.dY=0; ghosts.forEach(gh=>{gh.x=gh.startX;gh.y=gh.startY});}}
                    }
                });
                updateUI(); draw();
            }
            function draw() {
                ctx.fillStyle="black"; ctx.fillRect(0,0,canvas.width,canvas.height);
                for(let r=0;r<map.length;r++) for(let c=0;c<map[0].length;c++){
                    if(map[r][c]===1){ctx.fillStyle="#191970"; ctx.fillRect(c*TILE,r*TILE,TILE,TILE); ctx.strokeStyle="#4169E1"; ctx.lineWidth=2; ctx.strokeRect(c*TILE,r*TILE,TILE,TILE);}
                    else if(map[r][c]===0){ctx.fillStyle="#ffb897"; ctx.beginPath(); ctx.arc(c*TILE+TILE/2,r*TILE+TILE/2,4,0,Math.PI*2); ctx.fill();}
                    else if(map[r][c]===3){ctx.fillStyle="white"; ctx.beginPath(); ctx.arc(c*TILE+TILE/2,r*TILE+TILE/2,(animationFrame%4===0?9:7),0,Math.PI*2); ctx.fill();}
                }
                let px=pacman.x*TILE+TILE/2, py=pacman.y*TILE+TILE/2;
                ctx.save(); ctx.translate(px,py); ctx.rotate(pacman.angle); ctx.beginPath(); ctx.arc(0,0,TILE/2-2,pacman.mouthOpen*Math.PI,(2-pacman.mouthOpen)*Math.PI); ctx.lineTo(0,0); ctx.fillStyle="#f1c40f"; ctx.fill(); ctx.restore();
                ghosts.forEach(g=>{
                    let gx=g.x*TILE+TILE/2, gy=g.y*TILE+TILE/2;
                    ctx.fillStyle=(g.state==='scared')?'#3498db':g.color;
                    ctx.beginPath(); ctx.arc(gx,gy-4,TILE/2-4,Math.PI,0);
                    ctx.lineTo(gx+TILE/2-4, gy+TILE/2-4);
                    for(let i=1;i<=3;i++) ctx.lineTo(gx+TILE/2-4-(i*((TILE-8)/3)), gy+TILE/2-4-((i%2===0)?0:2));
                    ctx.lineTo(gx-TILE/2+4, gy-4); ctx.fill();
                    if(g.state!=='scared'){
                        ctx.fillStyle="white"; ctx.beginPath(); ctx.arc(gx-5,gy-6,4,0,Math.PI*2); ctx.arc(gx+5,gy-6,4,0,Math.PI*2); ctx.fill();
                        ctx.fillStyle="blue"; ctx.beginPath(); ctx.arc(gx-5,gy-6,2,0,Math.PI*2); ctx.arc(gx+5,gy-6,2,0,Math.PI*2); ctx.fill();
                    }
                });
            }
            document.onkeydown=e=>{if(activeGame==='pacman'){if(e.key==="ArrowUp"){pacman.nX=0;pacman.nY=-1}if(e.key==="ArrowDown"){pacman.nX=0;pacman.nY=1}if(e.key==="ArrowLeft"){pacman.nX=-1;pacman.nY=0}if(e.key==="ArrowRight"){pacman.nX=1;pacman.nY=0}}};
            gameInterval=setInterval(update, gameSpeed);
        }

        // --- 2. SNAKE (YILAN) ---
        function startSnake() {
            document.getElementById('gameTitle').innerText = "Yılan";
            const box = 25; snake = [{x:10*box, y:10*box}]; food = {x:Math.floor(Math.random()*20)*box, y:Math.floor(Math.random()*20)*box};
            snakeDir = "RIGHT"; let speed = 200;
            function update() {
                ctx.fillStyle="#222"; ctx.fillRect(0,0,canvas.width,canvas.height);
                ctx.strokeStyle="#333"; ctx.lineWidth=1;
                for(let i=0;i<canvas.width;i+=box){ctx.beginPath();ctx.moveTo(i,0);ctx.lineTo(i,canvas.height);ctx.stroke();}
                for(let i=0;i<canvas.height;i+=box){ctx.beginPath();ctx.moveTo(0,i);ctx.lineTo(canvas.width,i);ctx.stroke();}
                for(let i=0;i<snake.length;i++){
                    ctx.fillStyle=(i===0)?"#2ecc71":"#27ae60"; ctx.beginPath(); ctx.roundRect(snake[i].x+1,snake[i].y+1,box-2,box-2,8); ctx.fill();
                    if(i===0){
                        ctx.fillStyle="white"; let ex=snake[i].x, ey=snake[i].y;
                        if(snakeDir=="RIGHT"){ctx.fillRect(ex+18,ey+5,4,4); ctx.fillRect(ex+18,ey+16,4,4);}
                        else if(snakeDir=="LEFT"){ctx.fillRect(ex+3,ey+5,4,4); ctx.fillRect(ex+3,ey+16,4,4);}
                        else if(snakeDir=="UP"){ctx.fillRect(ex+5,ey+3,4,4); ctx.fillRect(ex+16,ey+3,4,4);}
                        else if(snakeDir=="DOWN"){ctx.fillRect(ex+5,ey+18,4,4); ctx.fillRect(ex+16,ey+18,4,4);}
                    }
                }
                ctx.fillStyle="#e74c3c"; ctx.beginPath(); ctx.arc(food.x+box/2,food.y+box/2,box/2-2,0,Math.PI*2); ctx.fill();
                let sx=snake[0].x, sy=snake[0].y;
                if(snakeDir=="LEFT")sx-=box; if(snakeDir=="UP")sy-=box; if(snakeDir=="RIGHT")sx+=box; if(snakeDir=="DOWN")sy+=box;
                if(sx==food.x&&sy==food.y){score+=10; level++; speed=Math.max(50,speed-10); clearInterval(gameInterval); gameInterval=setInterval(update,speed); food={x:Math.floor(Math.random()*20)*box,y:Math.floor(Math.random()*20)*box}; updateUI();} else snake.pop();
                if(sx<0||sx>=canvas.width||sy<0||sy>=canvas.height||snake.some(s=>s.x===sx&&s.y===sy)){triggerGameOver(false); return;}
                snake.unshift({x:sx,y:sy});
            }
            document.onkeydown=e=>{if(activeGame==='snake'){if(e.key==="ArrowLeft"&&snakeDir!="RIGHT")snakeDir="LEFT";else if(e.key==="ArrowUp"&&snakeDir!="DOWN")snakeDir="UP";else if(e.key==="ArrowRight"&&snakeDir!="LEFT")snakeDir="RIGHT";else if(e.key==="ArrowDown"&&snakeDir!="UP")snakeDir="DOWN";}};
            gameInterval=setInterval(update, speed);
        }

        // --- 3. TETRIS ---
        function startTetris() {
            document.getElementById('gameTitle').innerText = "Tetris";
            const ROW=20, COL=12, SQ=20, VACANT="BLACK"; tetrisBoard=[]; for(let r=0;r<ROW;r++){tetrisBoard[r]=[];for(let c=0;c<COL;c++)tetrisBoard[r][c]=VACANT;}
            const PIECES=[[Z,"red"],[S,"green"],[T,"purple"],[O,"yellow"],[L,"orange"],[I,"cyan"],[J,"blue"]];
            function drawSquare(x,y,color){ctx.fillStyle=color; ctx.fillRect(x*SQ,y*SQ,SQ,SQ); ctx.strokeStyle="#333"; ctx.strokeRect(x*SQ,y*SQ,SQ,SQ);}
            function drawBoard(){for(let r=0;r<ROW;r++)for(let c=0;c<COL;c++)drawSquare(c,r,tetrisBoard[r][c]);}
            function Piece(tet,col){this.tet=tet; this.col=col; this.tn=0; this.act=this.tet[this.tn]; this.x=4; this.y=0;}
            Piece.prototype.fill=function(c){for(let r=0;r<this.act.length;r++)for(let l=0;l<this.act.length;l++)if(this.act[r][l])drawSquare(this.x+l,this.y+r,c);}
            Piece.prototype.draw=function(){this.fill(this.col);}
            Piece.prototype.unDraw=function(){this.fill(VACANT);}
            Piece.prototype.moveDown=function(){if(!this.coll(0,1,this.act)){this.unDraw();this.y++;this.draw();}else{this.lock();tetrisPiece=randP();}}
            Piece.prototype.coll=function(x,y,p){for(let r=0;r<p.length;r++)for(let c=0;c<p.length;c++){if(!p[r][c])continue; let nX=this.x+c+x, nY=this.y+r+y; if(nX<0||nX>=COL||nY>=ROW)return true; if(nY<0)continue; if(tetrisBoard[nY][nX]!=VACANT)return true;}return false;}
            Piece.prototype.lock=function(){for(let r=0;r<this.act.length;r++)for(let c=0;c<this.act.length;c++){if(!this.act[r][c])continue; if(this.y+r<=0){triggerGameOver(false);return;} tetrisBoard[this.y+r][this.x+c]=this.col;} for(let r=0;r<ROW;r++){let isF=true;for(let c=0;c<COL;c++)isF=isF&&(tetrisBoard[r][c]!=VACANT); if(isF){for(let y=r;y>1;y--)for(let c=0;c<COL;c++)tetrisBoard[y][c]=tetrisBoard[y-1][c]; for(let c=0;c<COL;c++)tetrisBoard[0][c]=VACANT; score+=100; updateUI();}} if(score>=1000)triggerGameOver(true); drawBoard();}
            Piece.prototype.rot=function(){let next=this.tet[(this.tn+1)%this.tet.length]; let k=0; if(this.coll(0,0,next))k=(this.x>COL/2)?-1:1; if(!this.coll(k,0,next)){this.unDraw();this.x+=k;this.tn=(this.tn+1)%this.tet.length;this.act=this.tet[this.tn];this.draw();}}
            Piece.prototype.mr=function(){if(!this.coll(1,0,this.act)){this.unDraw();this.x++;this.draw();}}
            Piece.prototype.ml=function(){if(!this.coll(-1,0,this.act)){this.unDraw();this.x--;this.draw();}}
            function randP(){let r=Math.floor(Math.random()*PIECES.length); return new Piece(PIECES[r][0], PIECES[r][1]);}
            tetrisPiece=randP(); drawBoard();
            document.onkeydown=e=>{if(activeGame==='tetris'){if(e.key==="ArrowLeft")tetrisPiece.ml();else if(e.key==="ArrowRight")tetrisPiece.mr();else if(e.key==="ArrowUp")tetrisPiece.rot();else if(e.key==="ArrowDown")tetrisPiece.moveDown();}};
            gameInterval=setInterval(()=>tetrisPiece.moveDown(), 500);
        }
        const I=[[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],[[0,0,1,0],[0,0,1,0],[0,0,1,0],[0,0,1,0]]], J=[[[1,0,0],[1,1,1],[0,0,0]],[[0,1,1],[0,1,0],[0,1,0]],[[0,0,0],[1,1,1],[0,0,1]],[[0,1,0],[0,1,0],[1,1,0]]], L=[[[0,0,1],[1,1,1],[0,0,0]],[[0,1,0],[0,1,0],[0,1,1]],[[0,0,0],[1,1,1],[1,0,0]],[[1,1,0],[0,1,0],[0,1,0]]], O=[[[0,0,0,0],[0,1,1,0],[0,1,1,0],[0,0,0,0]]], S=[[[0,1,1],[1,1,0],[0,0,0]],[[0,1,0],[0,1,1],[0,0,1]]], T=[[[0,1,0],[1,1,1],[0,0,0]],[[0,1,0],[0,1,1],[0,1,0]],[[0,0,0],[1,1,1],[0,1,0]],[[0,1,0],[1,1,0],[0,1,0]]], Z=[[[1,1,0],[0,1,1],[0,0,0]],[[0,0,1],[0,1,1],[0,1,0]]];
    </script>
</body>
</html>
